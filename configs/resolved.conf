# systemd-resolved configuration
# /etc/systemd/resolved.conf.d/dns.conf
# DNS over TLS with privacy-respecting resolvers

[Resolve]
# Primary DNS: Cloudflare (privacy-focused, fast)
DNS=1.1.1.1#cloudflare-dns.com 1.0.0.1#cloudflare-dns.com
DNS=2606:4700:4700::1111#cloudflare-dns.com 2606:4700:4700::1001#cloudflare-dns.com

# Fallback DNS: Quad9 (security-focused, blocks malware)
FallbackDNS=9.9.9.9#dns.quad9.net 149.112.112.112#dns.quad9.net
FallbackDNS=2620:fe::fe#dns.quad9.net 2620:fe::9#dns.quad9.net

# Enable DNSSEC validation
DNSSEC=yes

# Enable DNS over TLS
DNSOverTLS=yes

# Use resolved for all domains
Domains=~.

# Cache settings
Cache=yes
CacheFromLocalhost=no
